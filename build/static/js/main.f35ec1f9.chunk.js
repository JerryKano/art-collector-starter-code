(this.webpackJsonpart_collector_react=this.webpackJsonpart_collector_react||[]).push([[0],{12:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(3),s=n(2),u=n(0),l=n.n(u),o=n(5),i=n.n(o),p="https://api.harvardartmuseums.org",f="apikey=d6dd04c3-2eab-4302-bb3d-cbc81f88f99d";function m(e){return h.apply(this,arguments)}function h(){return(h=Object(s.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function v(e){return d.apply(this,arguments)}function d(){return(d=Object(s.a)(r.a.mark((function e(t){var n,a,c,s,u,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.century,a=t.classification,c=t.queryString,s="".concat(p,"/object?").concat(f,"&classification=").concat(a,"&century=").concat(n,"&keyword=").concat(c),e.prev=2,e.next=5,fetch(s);case 5:return u=e.sent,e.next=8,u.json();case 8:return l=e.sent,e.abrupt("return",l);case 12:throw e.prev=12,e.t0=e.catch(2),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function b(){return y.apply(this,arguments)}function y(){return(y=Object(s.a)(r.a.mark((function e(){var t,n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("centuries")){e.next=2;break}return e.abrupt("return",JSON.parse(localStorage.getItem("centuries")));case 2:return t="".concat(p,"/century?").concat(f,"&size=100&sort=temporalorder"),e.prev=3,e.next=6,fetch(t);case 6:return n=e.sent,e.next=9,n.json();case 9:return a=e.sent,c=a.records,localStorage.setItem("centuries",JSON.stringify(c)),e.abrupt("return",c);case 15:throw e.prev=15,e.t0=e.catch(3),e.t0;case 18:case"end":return e.stop()}}),e,null,[[3,15]])})))).apply(this,arguments)}function E(){return g.apply(this,arguments)}function g(){return(g=Object(s.a)(r.a.mark((function e(){var t,n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("classifications")){e.next=2;break}return e.abrupt("return",JSON.parse(localStorage.getItem("classifications")));case 2:return t="".concat(p,"/classification?").concat(f,"&size=100&sort=name"),e.prev=3,e.next=6,fetch(t);case 6:return n=e.sent,e.next=9,n.json();case 9:return a=e.sent,c=a.records,localStorage.setItem("classifications",JSON.stringify(c)),e.abrupt("return",c);case 15:throw e.prev=15,e.t0=e.catch(3),e.t0;case 18:case"end":return e.stop()}}),e,null,[[3,15]])})))).apply(this,arguments)}var x=function(){return l.a.createElement("div",{id:"loading"},l.a.createElement("h2",{className:"message"},"Searching..."))},j=function(e){var t=e.searchResults,n=t.info,a=t.records,c=e.setSearchResults,u=e.setFeaturedResult,o=e.setIsLoading;function i(e){return p.apply(this,arguments)}function p(){return(p=Object(s.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,m(t);case 4:n=e.sent,c(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))).apply(this,arguments)}return l.a.createElement("aside",{id:"preview"},l.a.createElement("header",{className:"pagination"},l.a.createElement("button",{disabled:!n.prev,className:"previous",onClick:function(){return i(n.prev)}},"Previous"),l.a.createElement("button",{disabled:!n.next,className:"next",onClick:function(){return i(n.next)}},"Next")),l.a.createElement("section",{className:"results"},a.map((function(e,t){return l.a.createElement("div",{key:t,className:"object-preview",onClick:function(t){t.preventDefault(),u(e)}},e.primaryimageurl?l.a.createElement("img",{src:e.primaryimageurl,alt:e.description}):null,e.title?l.a.createElement("h3",null,e.title):null)}))))},O=function(e){var t=e.setIsLoading,n=e.setSearchResults,a=Object(u.useState)([]),o=Object(c.a)(a,2),i=o[0],p=o[1],f=Object(u.useState)([]),m=Object(c.a)(f,2),h=m[0],d=m[1],y=Object(u.useState)(""),g=Object(c.a)(y,2),x=g[0],j=g[1],O=Object(u.useState)("any"),w=Object(c.a)(O,2),S=w[0],k=w[1],N=Object(u.useState)("any"),C=Object(c.a)(N,2),I=C[0],R=C[1];return Object(u.useEffect)(Object(s.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b();case 3:return t=e.sent,e.next=6,E();case 6:n=e.sent,p(t),d(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),[]),l.a.createElement("form",{id:"search",onSubmit:function(){var e=Object(s.a)(r.a.mark((function e(a){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t(!0),e.prev=2,e.next=5,v({century:S,classification:I,queryString:x});case 5:c=e.sent,n(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:return e.prev=12,t(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(t){return e.apply(this,arguments)}}()},l.a.createElement("fieldset",null,l.a.createElement("label",{htmlFor:"keywords"},"Query"),l.a.createElement("input",{id:"keywords",type:"text",placeholder:"enter keywords...",value:x,onChange:function(e){return j(e.target.value)}})),l.a.createElement("fieldset",null,l.a.createElement("label",{htmlFor:"select-classification"},"Classification ",l.a.createElement("span",{className:"classification-count"},"(",h.length,")")),l.a.createElement("select",{name:"classification",id:"select-classification",value:I,onChange:function(e){return R(e.target.value)}},l.a.createElement("option",{value:"any"},"Any"),h.map((function(e,t){return l.a.createElement("option",{key:t,value:e.name},e.name)})))),l.a.createElement("fieldset",null,l.a.createElement("label",{htmlFor:"select-century"},"Century ",l.a.createElement("span",{className:"century-count"},"(",i.length,")")),l.a.createElement("select",{name:"century",id:"select-century",value:S,onChange:function(e){return k(e.target.value)}},l.a.createElement("option",{value:"any"},"Any"),i.map((function(e,t){return l.a.createElement("option",{key:t,value:e.name},e.name)})))),l.a.createElement("button",null,"SEARCH"))},w=function(){return l.a.createElement("div",{id:"title"},l.a.createElement("h1",null," The Art Collector "),l.a.createElement("h5",null," Search the Harvard Art Museums' Private Collections "))};function S(){return(S=Object(s.a)(r.a.mark((function e(){var t,n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(p,"/object?").concat(f),e.prev=1,e.next=4,fetch(t);case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,console.log(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}!function(){S.apply(this,arguments)}();var k=function(){var e=Object(u.useState)({info:{},records:[]}),t=Object(c.a)(e,2),n=t[0],a=t[1],r=Object(u.useState)(null),s=Object(c.a)(r,2),o=(s[0],s[1]),i=Object(u.useState)(!1),p=Object(c.a)(i,2),f=p[0],m=p[1];return l.a.createElement("div",{className:"app"},l.a.createElement(w,null),l.a.createElement(O,{setIsLoading:m,setSearchResults:a}),l.a.createElement(j,{searchResults:n,setIsLoading:m,setSearchResults:a,setFeaturedResult:o}),f?l.a.createElement(x,null):null)};i.a.render(l.a.createElement(k,null),document.getElementById("app"))},6:function(e,t,n){e.exports=n(12)}},[[6,1,2]]]);
//# sourceMappingURL=main.f35ec1f9.chunk.js.map